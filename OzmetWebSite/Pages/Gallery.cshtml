@page
@model GalleryModel
@{
    ViewData["Title"] = "Galeri";
}

<!-- Gallery Hero Section -->
<section class="gallery-hero py-5 bg-light">
    <div class="container text-center">
        <span class="badge bg-warning text-dark px-3 py-2 rounded-pill mb-3" data-aos="fade-up">Galeri</span>
        <h1 class="display-4 fw-bold mb-4" data-aos="fade-up" data-aos-delay="100">
            Tamamlanan <span class="text-warning">Projelerimiz</span>
        </h1>
        <p class="lead text-muted mb-4" data-aos="fade-up" data-aos-delay="200">
            Yılların deneyimi ve uzman ekibimizle hayata geçirdiğimiz projelerden kareler
        </p>
    </div>
</section>

<!-- Filter Tabs -->
<section class="py-4 bg-white border-bottom">
    <div class="container">
        <div class="text-center">
            <div class="btn-group" role="group" aria-label="Galeri Filtresi">
                <button type="button" class="btn btn-outline-warning filter-btn active" data-filter="all">
                    <i class="fas fa-th me-2"></i>Tümü
                </button>
                <button type="button" class="btn btn-outline-warning filter-btn" data-filter="konut">
                    <i class="fas fa-home me-2"></i>Konut
                </button>
                <button type="button" class="btn btn-outline-warning filter-btn" data-filter="ticari">
                    <i class="fas fa-building me-2"></i>Ticari
                </button>
                <button type="button" class="btn btn-outline-warning filter-btn" data-filter="tadilat">
                    <i class="fas fa-tools me-2"></i>Tadilat
                </button>
                <button type="button" class="btn btn-outline-warning filter-btn" data-filter="video">
                    <i class="fas fa-video me-2"></i>Videolar
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Gallery Grid -->
<section class="py-5">
    <div class="container">
        <div class="row g-4" id="galleryGrid">
            
            <!-- Konut Projeleri -->
            <div class="col-lg-4 col-md-6 gallery-item" data-category="konut" data-aos="fade-up">
                <div class="gallery-card">
                    <img src="~/images/icdizayn.jpeg"
                         alt="Modern Villa" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Modern Villa</h5>
                            <p class="text-white-50 small mb-3">Beykoz, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Modern Villa"
                                    data-desc="Beykoz'da konumlu lüks modern villa projesi">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="konut" data-aos="fade-up" data-aos-delay="100">
                <div class="gallery-card">
                    <img src="~/images/icdizayn2.jpeg"
                         alt="Rezidans Projesi" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Rezidans Projesi</h5>
                            <p class="text-white-50 small mb-3">Kadıköy, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Rezidans Projesi"
                                    data-desc="Deniz manzaralı lüks konut kompleksi">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="konut" data-aos="fade-up" data-aos-delay="200">
                <div class="gallery-card">
                    <img src="~/images/icdizayn3.jpeg"
                         alt="Lüks Apartman" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Lüks Apartman</h5>
                            <p class="text-white-50 small mb-3">Şişli, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1560518883-ce09059eeffa?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Lüks Apartman"
                                    data-desc="Modern mimari ile tasarlanmış apartman">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ticari Projeler -->
            <div class="col-lg-4 col-md-6 gallery-item" data-category="ticari" data-aos="fade-up">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=600&q=80" 
                         alt="İş Merkezi" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">İş Merkezi</h5>
                            <p class="text-white-50 small mb-3">Levent, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=1200&q=80"
                                    data-title="İş Merkezi"
                                    data-desc="Modern ofis kompleksi projesi">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="ticari" data-aos="fade-up" data-aos-delay="100">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&w=600&q=80" 
                         alt="Ofis Binası" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Ofis Binası</h5>
                            <p class="text-white-50 small mb-3">Maslak, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Ofis Binası"
                                    data-desc="Enerji verimli ticari bina projesi">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="ticari" data-aos="fade-up" data-aos-delay="200">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1582407947304-fd86f028f716?auto=format&fit=crop&w=600&q=80" 
                         alt="Alışveriş Merkezi" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">AVM Projesi</h5>
                            <p class="text-white-50 small mb-3">Ataşehir, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1582407947304-fd86f028f716?auto=format&fit=crop&w=1200&q=80"
                                    data-title="AVM Projesi"
                                    data-desc="Modern alışveriş merkezi inşaatı">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tadilat Projeleri -->
            <div class="col-lg-4 col-md-6 gallery-item" data-category="tadilat" data-aos="fade-up">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=600&q=80" 
                         alt="İç Mekan Tasarım" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">İç Mekan Tasarım</h5>
                            <p class="text-white-50 small mb-3">Bebek, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=1200&q=80"
                                    data-title="İç Mekan Tasarım"
                                    data-desc="Lüks villa iç mekan renovasyonu">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="tadilat" data-aos="fade-up" data-aos-delay="100">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&w=600&q=80" 
                         alt="Dış Cephe Yenileme" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Dış Cephe Yenileme</h5>
                            <p class="text-white-50 small mb-3">Nişantaşı, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Dış Cephe Yenileme"
                                    data-desc="Apartman dış cephe renovasyonu">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="tadilat" data-aos="fade-up" data-aos-delay="200">
                <div class="gallery-card">
                    <img src="https://images.unsplash.com/photo-1613977257363-707ba9348227?auto=format&fit=crop&w=600&q=80" 
                         alt="Mutfak Renovasyon" class="gallery-img">
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Mutfak Renovasyon</h5>
                            <p class="text-white-50 small mb-3">Etiler, İstanbul</p>
                            <button class="btn btn-warning btn-sm" onclick="openModal(this)" 
                                    data-img="https://images.unsplash.com/photo-1613977257363-707ba9348227?auto=format&fit=crop&w=1200&q=80"
                                    data-title="Mutfak Renovasyon"
                                    data-desc="Modern mutfak tasarımı ve uygulaması">
                                <i class="fas fa-expand-arrows-alt me-1"></i>Detay
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video Bölümü -->
            <div class="col-lg-4 col-md-6 gallery-item" data-category="video" data-aos="fade-up">
                <div class="gallery-card video-card">
                    <video class="gallery-video" poster="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?auto=format&fit=crop&w=600&q=80">
                        <source src="~/videos/proje-tanitim-1.mp4" type="video/mp4">
                        Tarayıcınız video oynatmayı desteklemiyor.
                    </video>
                    <div class="video-play-btn">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Modern Villa İnşaat Süreci</h5>
                            <p class="text-white-50 small mb-3">Beykoz Projesi - 2024</p>
                            <button class="btn btn-warning btn-sm" onclick="openVideoModal('~/videos/proje-tanitim-1.mp4', 'Modern Villa İnşaat Süreci')">
                                <i class="fas fa-play-circle me-1"></i>İzle
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="video" data-aos="fade-up" data-aos-delay="100">
                <div class="gallery-card video-card">
                    <video class="gallery-video" poster="https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?auto=format&fit=crop&w=600&q=80">
                        <source src="~/videos/ofis-projesi.mp4" type="video/mp4">
                    </video>
                    <div class="video-play-btn">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">İş Merkezi Projesi</h5>
                            <p class="text-white-50 small mb-3">Levent - 2024</p>
                            <button class="btn btn-warning btn-sm" onclick="openVideoModal('~/videos/ofis-projesi.mp4', 'İş Merkezi Projesi')">
                                <i class="fas fa-play-circle me-1"></i>İzle
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="video" data-aos="fade-up" data-aos-delay="200">
                <div class="gallery-card video-card">
                    <video class="gallery-video" poster="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?auto=format&fit=crop&w=600&q=80">
                        <source src="~/videos/rezidans-drone.mp4" type="video/mp4">
                    </video>
                    <div class="video-play-btn">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">Rezidans Drone Çekimi</h5>
                            <p class="text-white-50 small mb-3">Kadıköy - 2024</p>
                            <button class="btn btn-warning btn-sm" onclick="openVideoModal('~/videos/rezidans-drone.mp4', 'Rezidans Drone Çekimi')">
                                <i class="fas fa-play-circle me-1"></i>İzle
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4 col-md-6 gallery-item" data-category="video" data-aos="fade-up" data-aos-delay="300">
                <div class="gallery-card video-card">
                    <video class="gallery-video" poster="https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=600&q=80">
                        <source src="~/videos/ic-mekan-tasarim.mp4" type="video/mp4">
                    </video>
                    <div class="video-play-btn">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="gallery-overlay">
                        <div class="gallery-info">
                            <h5 class="text-white fw-bold mb-2">İç Mekan Tasarım Süreci</h5>
                            <p class="text-white-50 small mb-3">Bebek Villa - 2024</p>
                            <button class="btn btn-warning btn-sm" onclick="openVideoModal('~/videos/ic-mekan-tasarim.mp4', 'İç Mekan Tasarım Süreci')">
                                <i class="fas fa-play-circle me-1"></i>İzle
                            </button>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</section>

<!-- Image Modal -->
<div class="modal fade" id="galleryModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content bg-dark">
            <div class="modal-header border-0">
                <h5 class="modal-title text-white" id="modalTitle"></h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-0">
                <img id="modalImage" src="" alt="" class="img-fluid w-100">
            </div>
            <div class="modal-footer border-0 bg-dark">
                <p class="text-white-50 mb-0" id="modalDesc"></p>
            </div>
        </div>
    </div>
</div>

<!-- Video Modal -->
<div class="modal fade" id="videoModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content bg-dark">
            <div class="modal-header border-0">
                <h5 class="modal-title text-white" id="videoModalTitle"></h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" onclick="stopVideo()"></button>
            </div>
            <div class="modal-body p-0">
                <video id="modalVideo" class="w-100" controls controlsList="nodownload">
                    <source id="videoSource" src="" type="video/mp4">
                    Tarayıcınız video oynatmayı desteklemiyor.
                </video>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Filter Functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Active state
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');

                const filter = this.getAttribute('data-filter');
                const items = document.querySelectorAll('.gallery-item');

                items.forEach(item => {
                    if (filter === 'all' || item.getAttribute('data-category') === filter) {
                        item.style.display = 'block';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });

        // Image Modal Function
        function openModal(btn) {
            const img = btn.getAttribute('data-img');
            const title = btn.getAttribute('data-title');
            const desc = btn.getAttribute('data-desc');

            document.getElementById('modalImage').src = img;
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalDesc').textContent = desc;

            const modal = new bootstrap.Modal(document.getElementById('galleryModal'));
            modal.show();
        }

        // Video Modal Function
        function openVideoModal(videoSrc, title) {
            document.getElementById('videoSource').src = videoSrc;
            document.getElementById('videoModalTitle').textContent = title;
            document.getElementById('modalVideo').load();

            const modal = new bootstrap.Modal(document.getElementById('videoModal'));
            modal.show();
        }

        // Stop Video when Modal Closes
        function stopVideo() {
            const video = document.getElementById('modalVideo');
            video.pause();
            video.currentTime = 0;
        }

        // Auto stop video when modal is closed
        document.getElementById('videoModal').addEventListener('hidden.bs.modal', function () {
            stopVideo();
        });
    </script>
}
    